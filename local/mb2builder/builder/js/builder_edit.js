/**
 *
 * @package    local_mb2builder
 * @copyright  2018 - 2024 Mariusz Boloz (lmsstyle.com)
 * @license    PHP and HTML: http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later. Other parts: http://themeforest.net/licenses
 */ jQuery(document).ready(function(t){var n,a,e,i,o,s,l,d;(n=function(){t(".pagelayout-mb2builder_form .mform").on("submit",function(){var n=JSON.stringify(mb2pb_LayoutData().setData(!0));t('[name="content"]').val(n),t('[name="democontent"]').val(n)})},a=function(){t(document).on("click",".mb2-pb-reslink",function(n){mb2pb_Helper().screenSize(t(this).attr("data-device"))})},e=function(){t(document).on("click","#mb2-pb-page-settings button",function(n){mb2pb_Helper().checkModal(n)&&(mb2pb_Helper().modalHelper().mb2pb_modalShow(t(this).attr("data-modal")),i())}),t(document).on("click","#mb2-pb-modal-page-settings .btn-danger",function(n){mb2pb_Helper().modalHelper().mb2pb_modalHide(t(this).attr("data-modal"))}),t(document).on("click","#mb2-pb-modal-page-settings .btn-success",function(n){o(),mb2pb_Helper().modalHelper().mb2pb_modalHide(t(this).attr("data-modal"))}),t(document).on("input","#mb2pb-pagesettingspagecss",function(n){l(t(this).val())}),t(document).on("input","#mb2pb-pagesettingsheaderstyle",function(n){d(t(this).val())})},i=function(){for(var n=s(),a=0;a<n.length;a++)t('[name="mb2pb-pagesettings'+n[a]+'"]').val(t('input[name="'+n[a]+'"]').val())},o=function(){for(var n=s(),a=0;a<n.length;a++){var e='[name="mb2pb-pagesettings'+n[a]+'"]';t('input[name="'+n[a]+'"]').val(t(e).val()),"pagecss"===n[a]&&l(t(e).val()),"headerstyle"===n[a]&&d(t(e).val())}},s=function(){return["heading","footer","headerstyle","pagecss","menu","tgsdb"]},l=function(n){t(mb2pb_Selectors().builder.demoiframe).contents().find("head").find("#css-mb2-page-builder").text(n)},d=function(n){for(var a=["light","light2","dark","transparent","transparent_light"],e=t(mb2pb_Selectors().builder.demoiframe).contents().find("body"),i="theader_",o=0;o<a.length;o++)e.removeClass(i+a[o]);if(!n)return e.addClass(i+e.attr("data-headerstyle")),null;e.addClass(i+n)},{init:function(){n(),a(),e()}}).init()});