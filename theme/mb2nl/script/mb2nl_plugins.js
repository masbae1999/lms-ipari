/**
 *
 * @package   theme_mb2nl
 * @copyright 2017 - 2024 Mariusz Boloz (lmsstyle.com)
 * @license   PHP and HTML: http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later. Other parts: http://themeforest.net/licenses
 *
*/ jQuery(document).ready(function(t){"use strict";var e=function(){var e=function(t){var e=t.closest(".accimg-nav").find(".accimg-item");e.removeClass("show"),e.find(".accimg-btn").attr("aria-expanded","false"),e.find(".accimg-content").slideUp(250),t.addClass("show"),i(t)},a=function(t){t.removeClass("show"),t.find(".accimg-btn").attr("aria-expanded","false"),t.find(".accimg-content").slideUp(250)},i=function(e){e?n(e):t(".accimg-item.show").each(function(){n(t(this))})},n=function(t){var e=t.closest(".mb2-pb-accordionimg");e.find(".accimg-preview").removeClass("show"),e.find(".accimg-preview-"+t.attr("data-num")).addClass("show"),t.find(".accimg-content").slideDown(250),t.find(".accimg-btn").attr("aria-expanded","true")};return{init:function(){i(!1),t(document).on("click",".accimg-btn",function(){var i=t(this).closest(".accimg-item");i.hasClass("show")?a(i):e(i)})}}},a=function(){var e=function(){t(".swiper").each(function(){var e=t(this).attr("id"),a=0;t("#"+e).bind("inview",function(n,s){s&&!a&&(a=1,i().carouselDestroy(e),i().carouselInit(e),new LazyLoad,t("#"+e).find(".heroimg1").length&&t("#"+e).closest(".pbmainslider-wrap").addClass("heroimg1"))})})},a=function(){t(".mb2-pb-row.parallax1").each(function(){var e=0;t(this).bind("inview",function(a,i){i&&!e&&(e=1,t(this).jarallax())})})};return{init:function(){new LazyLoad,e(),a()}}},i=function(){var e=function(e){e.on("slideChange",function(e){t("#"+e.el.id).find(".swiper-slide").each(function(){if(!t(this).hasClass("swiper-slide-visible")){var e=t(this).find("iframe"),a=t(this).find("video");e.attr("src",e.attr("src")),a.closest(".image").html('<video controls="true"><source src="'+a.find("source").attr("src")+'"></video>')}})})},a=function(t){var e=t.closest(".mb2-pb-content");return{grabCursor:!0,effect:"creative",on:{afterInit:function(t){n(t,e)}},a11y:{prevSlideMessage:e.attr("data-lang_prev"),nextSlideMessage:e.attr("data-lang_next"),paginationBulletMessage:e.attr("data-lang_pagination")+" {{index}}"},breakpoints:{0:{creativeEffect:{prev:{translate:["-35%",0,-500],opacity:.5},next:{translate:["35%",0,-500],opacity:.5}}},577:{creativeEffect:{prev:{translate:["-40%",0,-500],opacity:.5},next:{translate:["40%",0,-500],opacity:.5}}},1101:{creativeEffect:{prev:{translate:["-80%",0,-500],opacity:.5},next:{translate:["80%",0,-500],opacity:.5}}}},navigation:{nextEl:".swiper-nextjs_"+t.attr("id"),prevEl:".swiper-prevjs_"+t.attr("id")},pagination:{el:".swiper-pagination",clickable:!0}}},i=function(t){var e=t.closest(".mb2-pb-content"),i=t.closest(".mb2-pb-coursetabs");if(i.length&&(e=i),e.hasClass("clayout2"))return a(t);var s=Number(e.attr("data-columns")),r=1==e.attr("data-mobcolumns"),o=1==e.attr("data-sloop"),l=1==e.attr("data-autoplay"),d=1==e.attr("data-touchmove"),c=Number(e.attr("data-pausetime")),p=Number(e.attr("data-animtime")),u=e.attr("data-animtype"),m=e.hasClass("mb2-pb-announcements")?"vertical":"horizontal",f=30;"thin"===e.attr("data-gutter")?f=10:"none"===e.attr("data-gutter")&&(f=0),e.hasClass("mb2-pb-announcements")&&(f=0,d=!1);var v=r?2:1,b=s>3?3:s,h=c;return o&&l||(h=36e5),{slidesPerView:s,spaceBetween:f,allowTouchMove:d,autoHeight:!0,loop:o,speed:p,effect:u,shortSwipes:!1,on:{afterInit:function(t){n(t,e)}},a11y:{prevSlideMessage:e.attr("data-lang_prev"),nextSlideMessage:e.attr("data-lang_next"),paginationBulletMessage:e.attr("data-lang_pagination")+" {{index}}"},direction:m,navigation:{nextEl:".swiper-nextjs_"+t.attr("id"),prevEl:".swiper-prevjs_"+t.attr("id")},pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:h,disableOnInteraction:!1},breakpoints:{0:{slidesPerView:v},480:{slidesPerView:v},600:{slidesPerView:r?b:s>2?2:s},768:{slidesPerView:b},1e3:{slidesPerView:s>5?5:s}},watchSlidesProgress:!0}},n=function(e,a){for(var i=s(e).length,n=a.attr("data-lang_slide"),r=0;r<e.slides.length;r++){var o=t(e.slides[r]),l=o.attr("data-custom_label"),d=o.attr("data-swiper-slide-index");d||(d=r);var c=" ("+n+" "+(Number(d)+1)+" / "+i+")";o.attr("aria-label",l+c)}},s=function(e){for(var a=[],i=0,n=0;n<e.slides.length;n++)!t(e.slides[n]).hasClass("swiper-slide-duplicate")&&(a[i]=n,i++);return a},r=function(e){var a=t("#"+e).find(".swiper-wrapper"),i=a.clone(),n=i.find(".mb2-pb-carousel-item");i.find(".swiper-slide-duplicate").remove(),i.removeAttr("id"),i.removeAttr("class"),i.removeAttr("style"),i.removeAttr("aria-live"),n.removeAttr("class"),n.removeAttr("style"),n.removeAttr("role"),n.removeAttr("data-swiper-slide-index"),n.removeAttr("aria-label");var s=i.find(".slide-contentnav button");s.length&&s.each(function(){var a=t(this);a.removeAttr("id"),a.removeAttr("tabindex"),a.removeAttr("aria-controls"),a.removeAttr("aria-disabled"),a.removeClass("swiper-button-disabled"),a.hasClass("swiper-nextjs")&&(a.removeClass("swiper-nextjs"),a.addClass("swiper-nextjs_"+e)),a.hasClass("swiper-prevjs")&&(a.removeClass("swiper-prevjs"),a.addClass("swiper-prevjs_"+e))}),i.addClass("swiper-wrapper"),i.addClass("mb2-pb-content-list"),n.addClass("mb2-pb-carousel-item"),n.addClass("theme-slider-item"),n.addClass("swiper-slide"),a.closest(".mb2-pb-content").hasClass("mb2-pb-testimonials")&&n.addClass("mb2-pb-testimonials-item"),t("#"+e).empty(),s.length||t("#"+e).append(o(e)),t("#"+e).append(i),t("#"+e).append(l())},o=function(t){var e="";return e+='<div class="theme-carousel-nav">',e+='<button type="button" class="swiper-button-nav swiper-button-prev swiper-prevjs_'+t+' themereset"></button>',e+='<button type="button" class="swiper-button-nav swiper-button-next swiper-nextjs_'+t+' themereset"></button>',e+="</div>"},l=function(){var t="";return t+='<div class="theme-carousel-pagenavnav">',t+='<div class="swiper-pagination"></div>',t+="</div>"};return{carouselInit:function(a){if(a){var n=new Swiper("#"+a,i(t("#"+a)));e(n)}else t(".swiper").each(function(){var a=new Swiper("#"+t(this).attr("id"),i(t(this)));e(a)})},carouselOptions:i,carouselDestroy:function(t){new Swiper("#"+t).destroy(),r(t)}}},n=function(){var e=function(e){return t(e.el[0]).find("img").attr("alt")};return{popupImage:function(){t(".popup-image").magnificPopup({type:"image",image:{titleSrc:function(t){return e(t)}}})},popupIframe:function(){t(".popup-iframe").magnificPopup({type:"iframe"})},popupInline:function(){t(".popup-html_video").each(function(){var e=t(this).attr("href");t(this).magnificPopup({items:{src:'<div class="popup-html-video"><video controls="true"><source src="'+e+'">'+e+"</video></div>"},type:"inline",callbacks:{open:function(){var e=t(this.content);setTimeout(function(){e.find("video")[0].play()},800)},close:function(){t(this.content).find("video")[0].load()}}})})},popupGallery:function(){t(".theme-popup-gallery").each(function(){t(this).magnificPopup({delegate:".popup-image_g",type:"image",gallery:{enabled:!0},image:{titleSrc:function(t){return e(t)}}})})}}},s=function(){var e=function(e){e.each(function(){t(this).hasClass("active")?t(this).attr("aria-hidden","false"):t(this).attr("aria-hidden","true")})},a=function(a){var i=t(".mb2slides"+a+" .lslide.active"),n=t(".mb2slides"+a+" .mb2slides-slide-list>li"),s=i.find(".mb2slides-caption");e(n),i.hasClass("active")?s.hasClass("anim1")&&s.stop().animate({top:0,bottom:0,opacity:1},350):s.stop().animate({top:15,bottom:-15,opacity:0},0)},i=function(e){768>=t(window).width()?(e.addClass("mb2slides-mobile"),e.removeClass("mb2slides-desktop")):(e.removeClass("mb2slides-mobile"),e.addClass("mb2slides-desktop"))},n=function(e){var a=t(".mb2slides"+e+" .mb2slides-caption");a.hasClass("anim1")&&a.stop().animate({top:15,bottom:-15,opacity:0},150)},s=function(e,a){e.addClass("loaded"),t(".mb2slides"+a+" .mb2slides-slide-list>li")};return{init:function(){t(".mb2slides-mainslider").each(function(){var e=t(this),r=t(this).find(".mb2slides-slide-list");r.find(".mb2slides-slide-item").find(".mb2slides-caption"),r.find(">li");var o=r.find(".mb2slides-nextslide"),l=r.find(".mb2slides-prevslide"),d=r.data("slidescount"),c=r.data("modid"),p=r.data("mode"),u=1==r.data("auto"),m=r.data("aspeed"),f=r.data("items"),v=r.data("margin"),b=r.data("moveitems")>f?f:r.data("moveitems"),h=r.data("apause"),g=1==r.data("kpress"),$=1==r.data("loop"),w=1==r.data("aheight"),y=1==r.data("pager"),C=1==r.data("control")||2==r.data("control"),_=!!t("body").hasClass("dir-rtl");d>1&&(r.lightSliderMb2({slidesVisible:!1,item:f,autoWidth:!1,slideMove:b,slideMargin:v,addClass:"",mode:p,useCSS:!0,cssEasing:"ease",easing:"linear",speed:m,auto:u,loop:$,slideEndAnimation:!0,pause:h,keyPress:g,controls:C,prevHtml:'<span class="'+(_?"fa fa-angle-right":"fa fa-angle-left")+'"></span>',nextHtml:'<span class="'+(_?"fa fa-angle-left":"fa fa-angle-right")+'"></span>',rtl:_,adaptiveHeight:w,vertical:!1,verticalHeight:500,vThumbWidth:100,pauseOnHover:!0,thumbItem:10,pager:y,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:f>1?[{breakpoint:768,settings:{item:f>2?2:f,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}]:[],onBeforeStart:function(t){},onSliderLoad:function(t){a(c),s(e,c)},onAfterSlide:function(t){a(c)},onBeforeSlide:function(t){n(c)},onBeforeNextSlide:function(t){},onBeforePrevSlide:function(t){},onAfterReset:function(t){a(c)}}),o.click(function(t){t.preventDefault(),r.goToNextSlide()}),l.click(function(t){t.preventDefault(),r.goToPrevSlide()})),i(e),t(window).on("resize",function(){i(e)})})}}},r=function(){var e=function(e){var a=t("#page").attr("data-wwwroot")+t("#page").attr("data-themedir")+"/mb2nl/lib/lib_ajax_items.php?i2load="+e.attr("data-i2load")+"&sesskey="+e.attr("data-sesskey")+"&options="+e.attr("data-options");t.ajax({url:a,type:"get",dataType:"html",beforeSend:function(){},error:function(t,e,a){},success:function(t){var a=e.find(".mb2-pb-content-list"),n=e.find(".swiper");a.html(t),n.length&&i().carouselInit(n.attr("id"))}})};return{loadElements:function(){let a=["announcements","blog","courses","categories","events","mycourses","reviews","teachers"];for(var i=0;i<a.length;i++)t('[data-i2load="'+a[i]+'"]').each(function(){e(t(this))})}}},o=function(){var e=function(e){var a=e.closest(".mb2-pb-coursetabs"),n=mb2nl_helper().dataAttribs(a);n=jQuery.param(n);var s=a.attr("data-rooturl")+"/mb2nl/lib/lib_ajax_coursetabs.php?"+n+"&categories="+e.attr("data-category")+"&sesskey="+a.attr("data-sesskey");t(".mb2-pb-coursetabs").removeClass("coursetabs-active"),a.addClass("coursetabs-active");var r=t(".coursetabs-active #"+e.attr("data-uniqid")+"_category-content-"+e.attr("data-category"));if(t(".coursetabs-active .coursetabs-catitem").removeClass("active"),e.addClass("active"),t(".coursetabs-active .coursetabs-content").removeClass("active"),r.addClass("active"),r.hasClass("fillin"))return null;t.ajax({url:s,type:"get",dataType:"html",beforeSend:function(){},error:function(t,e,a){},success:function(t){var e=r;e.html(t);var a=e.find(".swiper");a.length&&i().carouselInit(a.attr("id")),e.addClass("fillin")}})},a=function(){t(".coursetabs-catitem.active").each(function(){e(t(this))}),t(document).on("click",".coursetabs-catitem",function(a){e(t(this))})};return{getCourses:e,action:a}};({init:function(){i().carouselInit(!1),s().init(),n().popupImage(),n().popupIframe(),n().popupInline(),n().popupGallery(),o().action(),({init:function(){t(".pbanimnum-item").each(function(){var e=t(this),a=!0;e.bind("inview",function(t,i){i&&a&&(a=!1,setTimeout(function(){var t=e.find(".pbanimnum-number"),a=e.closest(".mb2-pb-animnum").attr("data-aspeed");a=Number(a),e.prop("Counter",0).stop().animate({Counter:e.attr("data-number")},{duration:a,easing:"swing",step:function(e){t.text(this.Counter.toFixed())}})},600))})})}}).init(),({typedInit:function(){t(".typed").each(function(){var e,a=t(this).closest(".heading").attr("id");new Typed("#"+a+" .typed",(e=t("#"+a),{strings:e.attr("data-typedtext").split("|"),typeSpeed:Number(e.attr("data-typespeed")),backSpeed:Number(e.attr("data-backspeed")),backDelay:Number(e.attr("data-backdelay")),loop:!0}))})}}).typedInit(),a().init(),e().init(),r().loadElements()}}).init()});