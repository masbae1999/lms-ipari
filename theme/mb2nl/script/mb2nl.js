/**
 *
 * @package   theme_mb2nl
 * @copyright 2017 - 2024 Mariusz Boloz (lmsstyle.com)
 * @license   PHP and HTML: http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later. Other parts: http://themeforest.net/licenses
 *
*/ jQuery(document).ready(function(t){var a=function(){var a=function(a){var o=a.attr("data-url").includes("?")?"&":"?",n=a.attr("data-url")+o+"blogpage="+a.attr("data-page");t.ajax({type:"POST",url:n,beforeSend:function(){a.addClass("lock"),a.html(a.attr("data-strloading"))},error:function(t,a,e){console.log(t),console.log(a),console.log(e)},success:function(t){setTimeout(function(){e(t,a)},950)}})},e=function(a,e){var o=t(a).find(".blog-post");t(".theme-blog-container").append(o),e.attr("data-page",Number(e.attr("data-page"))+1),new LazyLoad,e.attr("data-page")<e.attr("data-pages")?(e.removeClass("lock"),e.html(e.attr("data-strload"))):e.hide()};return{loadMore:function(){t(document).on("click",".blog-more-post",function(){var e=t(this);if(e.hasClass("lock"))return null;a(e)})}}},e=function(){return{btnClass:function(a){var e=t(".theme-scrolltt");a.scrollTop()>500?e.addClass("active"):e.removeClass("active")},back:function(){t(document).on("click",".theme-scrolltt",function(a){t("html, body").stop().animate({scrollTop:0},t(this).attr("data-scrollspeed"))})}}},o=function(){return{tableHTML:function(){t("table").wrap('<div class="theme-table-wrap"></div>'),t(".generaltable, .forumheaderlist, table.userenrolment").addClass("table table-striped"),t("table.collection").addClass("table table-bordered"),t("table.preference-table").addClass("table table-bordered"),t("table.rolecap").addClass("table table-bordered"),t("#categoryquestions").addClass("table table-striped")},tableClass:function(){t(".theme-table-wrap").each(function(){t(this).find(">table").width()>t(this).width()?t(this).addClass("wider"):t(this).removeClass("wider")})}}},n=function(){return{manegeBtn:function(){var a=t(".panel-link");a.length&&(t(window).scrollTop()>a.offset().top+a.outerHeight(!0)?t("body").addClass("panellinkpass"):t("body").removeClass("panellinkpass"))},courseNav:function(){t('label[for="jump-to-activity"]').closest(".m-t-2").addClass("activity-nav")},noTitle:function(){t(".sectionname, .section-title").each(function(){var a=t(this).find(">span>a, >a").text();t("body").hasClass("editing")||" "!==a||t(this).hide()})},panelList:function(){t(".boxlist>li").each(function(){t(this).find(">ul").length&&(t(this).find(">a").append('<span class="boxlist-toggle"></span>'),t(this).find(">span").append('<span class="boxlist-toggle"></span>'))}),t(document).on("click",".boxlist-toggle",function(a){a.preventDefault(),t(this).toggleClass("active"),t(this).parent().siblings("ul").slideToggle(250)})}}},s=function(){var a=function(a){var e="",o=[];for(i=0;i<a.length;i++){var n=a[i].split(";"),s=t("#theme-bookmarks-form").data("rooturl"),l=t("#theme-bookmarks-form").data("pageurl"),r=t("#theme-bookmarks-form").data("pagetitle"),d=t("#theme-bookmarks-form").data("bookmarkthispage"),c=t("#theme-bookmarks-form").data("unbookmarkthispage");n[0]&&(e+='<li class="level-2" data-url="'+n[0]+'">',e+='<a class="bookmark-link mb2mm-action" href="'+s+n[0]+'"><span class="mb2mm-label">'+n[1]+"</span></a>",e+='<div class="theme-bookmarks-action">',e+='<button type="button" class="theme-bookmarks-form bookmark-edit themereset" data-url="'+n[0]+'" data-mb2bktitle="'+n[1]+'" data-toggle="modal" data-target="#theme-bookmarks-modal"><i class="fa fa-pencil"></i></button>',e+='<button type="button" class="theme-bookmarks-form bookmark-delete themereset" data-url="'+n[0]+'" data-mb2bktitle="'+n[1]+'"><i class="fa fa-times"></i></button>',e+="</div>",e+="</li>",o[i]=n[0])}var m=t.inArray(l,o),u="",b=' data-toggle="modal" data-target="#theme-bookmarks-modal"',f=d;return m>-1&&(u=" bookmark-delete",f=c,b=""),e+='<li class="theme-bookmarks-add">',e+='<button type="button" class="theme-bookmarks-form'+u+' themereset mb2mm-action" data-url="'+l+'" data-mb2bktitle="'+r+'"'+b+">",e+='<span class="mb2mm-label">',e+=f,e+="</span>",e+="</button>",e+="</li>"};return{save:function(){t(document).on("click",".theme-bookmarks-save",function(a){t("#theme-bookmarks-form").submit(),a.preventDefault()})},buildForm:function(){t(document).on("click",".theme-bookmarks-form",function(a){a.preventDefault(),t("#mb2bkurl").val(t(this).data("url")),t("#mb2bktitle").val(t(this).data("mb2bktitle"));var e=t('li[data-url="'+t(this).data("url")+'"]');t(this).hasClass("bookmark-delete")?(t("#bkupdate").val(0),t("#bkdelete").val(1),t("#theme-bookmarks-form").submit()):t(this).hasClass("bookmark-edit")?(t("#bkdelete").val(0),t("#bkupdate").val(1)):e.length>0?(t("#bkdelete").val(0),t("#bkupdate").val(1),t("#mb2bktitle").val(e.find(">a").html())):(t("#bkdelete").val(0),t("#bkupdate").val(0))})},submitForm:function(){t(document).on("submit","#theme-bookmarks-form",function(e){e.preventDefault();var o=t(this),n=o.find("#mb2bkcreateurl").val();t.ajax({type:"GET",url:n,data:o.serialize(),beforeSend:function(){t("#theme-bookmarks-modal").find(".loading-bg").fadeIn(250),t("#theme-bookmarks-modal").find(".theme-bookmarks-save").attr("disabled","disabled")},error:function(a,e,o){setTimeout(function(){t("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),t("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled"),alert(a.responseText)},800)},success:function(e){if(t.isArray(e)){var o=a(e);t("ul.theme-bookmarks").html(o)}else alert(e);setTimeout(function(){t("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),t("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled")},800)}})})}}},l=function(){return{showHide:function(){t(document).on("click",".pass_show",function(){var a=t(this).parent().find("input"),e=t(this).attr("data-show"),o=t(this).attr("data-hide");t(this).hasClass("istext")?(a.attr("type","password"),t(this).removeClass("istext"),t(this).text(e)):(a.attr("type","text"),t(this).addClass("istext"),t(this).text(o))})},action:function(){t(".pass_show").parent().find("input").keyup(function(){var a=t(this).parent().find(".pass_show");""!==t(this).val()?a.addClass("filled"):a.removeClass("filled")})}}};({init:function(){({scrollLink:function(){t(document).on("click",".main-menu a,.mb2mm-action",function(a){var e=t(this).attr("href");if(!e)return null;var o=e.split(""),n=0;if(t("body").hasClass("sticky-nav")&&(n=46),"#"===o[0]&&o.length>1){if(!t(e).length)return;t("html, body").stop().animate({scrollTop:t(e).offset().top-n},600),a.preventDefault()}})}}).scrollLink(),e().back(),({init:function(){var a=t(".scrollto");if(!a.length)return null;t(window);var e=Math.ceil(a.offset().top-80);e>0&&t("html, body").stop().animate({scrollTop:e},600),console.log("scrollToEl:iniit")}}).init(),o().tableHTML(),o().tableClass(),({init:function(){t(".embed-video-bg").each(function(){var a=t(this);a.on("click",function(e){var o=a.parent().find("iframe");o.attr("src",o.attr("src")+"&autoplay=1"),t(this).fadeOut(350),a.fadeOut(350),e.preventDefault()})})}}).init(),({alertClass:function(){t(".alert-error").addClass("alert-danger"),t(".box.notifyproblem").addClass("alert"),t(".box.notifyproblem").addClass("alert-danger"),t(".box.notifyproblem").removeClass("notifyproblem")}}).alertClass(),({activeClass:function(){t(".nav-tabs .nav-link").each(function(){t(this).hasClass("active")&&t(this).parent().addClass("active")})}}).activeClass(),({regionName:function(){t(".block-region").each(function(){var a='<span class="region-name">'+t(this).data("blockregion")+"</span>";t("body").hasClass("editing")&&t(this).append(a)})}}).regionName(),({scrollDir:function(){var a=0;t(window).scroll(function(){(st=t(this).scrollTop())<a?(t("body").removeClass("scroll-down"),t("body").addClass("scroll-up")):(t("body").removeClass("scroll-up"),t("body").addClass("scroll-down")),a=st})}}).scrollDir(),n().manegeBtn(),n().courseNav(),n().noTitle(),n().panelList(),({init:function(){t('input.mb2color, .mb2color input[type="text"]').each(function(){t(this).spectrum({showInput:!0,showButtons:!1,preferredFormat:"rgb",allowEmpty:!0,color:"",showAlpha:!0})})}}).init(),({init:function(){var a=t(".theme-iconnav").height();t(".theme-iconnav").css({"margin-top":Math.ceil(-(a/2*1))}),t(".theme-iconnav li").each(function(){var a=t(this).find(".link-replace"),e=t(this).find("span.text"),o=t("body").hasClass("dir-rtl");a.hover(function(){o?e.stop().animate({left:"100%"},300):e.stop().animate({right:"100%"},300)},function(){o?e.stop().animate({left:-500},150):e.stop().animate({right:-500},150)})})}}).init(),s().buildForm(),s().save(),s().submitForm(),({guestClass:function(){t("form#guestlogin").parent().addClass("guestlogin-form")}}).guestClass(),({targetLink:function(){t(".link-target").each(function(){t(this).click(function(a){t("html, body").stop().animate({scrollTop:t(t(this).attr("href")).offset().top},1200)})})}}).targetLink(),({actionButton:function(){t('.course-enrolbtn[href="#page-content"]').each(function(){t(this).click(function(a){t("html, body").stop().animate({scrollTop:t("#page-content").offset().top},1200)})})}}).actionButton(),l().showHide(),l().action(),a().loadMore()}}).init(),t(window).on("scroll",function(){e().btnClass(t(this)),n().manegeBtn()}),t(window).on("resize",function(){o().tableClass()})}),function(t){t(window).on("load",function(){var a=t(".loading-scr");setTimeout(function(){a.fadeOut(150)},a.data("hideafter")),t("body").addClass("page-loaded")})}(jQuery);